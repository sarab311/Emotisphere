#N canvas 0 0 1366 686 10;
#X obj 41 204 makenote;
#X obj 44 258 noteout;
#X obj -96 -74 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -85 -50 metro;
#X msg -131 -51 stop;
#X obj -50 82 print;
#X obj -2 22 tabread;
#X obj 240 81 table Times 5;
#X obj 91 24 tabread;
#X msg 144 -38 set Times;
#X obj 81 -23 random 5;
#X obj 194 -274 loadbang;
#X obj -42 -10 random 28;
#X obj 73 -101 set Dmajor;
#X obj 14 -207 textfile;
#X obj 33 -69 print;
#X msg 34 -254 rewind;
#X obj 60 -237 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -77 -146 random 300;
#X msg 93 -54 set Cminor;
#X obj 180 32 table Cminor 29;
#X msg 241 130 \; Times 0 500 200 500 200 500;
#X msg 190 -15 \; Cminor 0 48 50 51 53 55 56 58 60 62 63 65 67 68 70
72 74 75 77 79 80 82 84 86 87 89 91 92 94 96;
#X obj -159 -187 trigger b b b b;
#X obj -146 -214 loadbang;
#X obj 6 -173 -;
#X msg -31 -188 250;
#X msg 12 -290 read pulse.txt;
#X obj -18 294 cyclone/midiformat;
#X obj -16 394 cyclone/seq;
#X msg 60 317 record;
#X msg 112 317 stop record;
#X obj -20 430 midiparse;
#X obj -26 468 noteout;
#X obj -48 245 pack;
#X obj 161 217 metro 1000;
#X obj 224 280 sel 0;
#X obj 190 251 - 1;
#X obj 144 246 f 30;
#X obj 172 279 sel -1;
#X obj 388 324 trigger b b b b;
#X msg 446 359 read recnumber.txt;
#X obj 374 387 textfile;
#X obj 117 283 print;
#X obj 541 404 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 144 174 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 515 380 rewind;
#X obj 311 408 makefilename %s.mid;
#X text 182 346 When f 30 hits -1 \, triggers read \, then;
#X text 184 363 write message and textfile;
#X msg 289 431 write \$1;
#X obj 314 464 print;
#X obj -239 261 trigger b b b b;
#X obj -255 329 textfile;
#X obj -86 341 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg -112 317 rewind;
#X msg -181 296 read volume.txt;
#X obj -315 326 print;
#X text -479 -168 pulse is read in from a text file pulse.txt and used
to determine tempo;
#X text -373 -77 the metro object sends a pulse every x miliseconds
\, where x is 250(fairly fast) - heartbeat(likely quite fast;
#X text -180 178 makenote creates a midi note with a given pitch \,
velocity(volume) \, and length;
#X text 559 14 contains the midi pitch values in a Cminor scale (minor
since agitated);
#X text 27 52 a random pitch and duration are chosen from the 2 tables
and inputted into makenote;
#X text 419 141 short durations = staccato = agitated;
#X text -375 351 volume is determined by a text file \, which is written
to by Processing when the orb is turned in its base;
#X text 475 441 after 30 seconds \, a recording is written to a midi
file - a running count is kept of the number of files in the database
and is updated by Processing \, not PD;
#X text 251 239 subtract 1 from 30 each second(a timer);
#X text 257 -262 activates objects upon loading;
#X connect 0 0 1 0;
#X connect 0 0 34 0;
#X connect 0 1 1 1;
#X connect 0 1 34 1;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 3 0 12 0;
#X connect 3 0 52 0;
#X connect 4 0 3 0;
#X connect 4 0 35 0;
#X connect 6 0 0 0;
#X connect 6 0 5 0;
#X connect 8 0 0 2;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 19 0;
#X connect 11 0 9 0;
#X connect 11 0 22 0;
#X connect 11 0 21 0;
#X connect 11 0 30 0;
#X connect 11 0 35 0;
#X connect 12 0 6 0;
#X connect 14 0 25 1;
#X connect 14 0 15 0;
#X connect 14 1 15 0;
#X connect 16 0 14 0;
#X connect 17 0 14 0;
#X connect 19 0 6 0;
#X connect 23 0 3 0;
#X connect 23 1 14 0;
#X connect 23 2 16 0;
#X connect 23 3 27 0;
#X connect 24 0 23 0;
#X connect 24 0 26 0;
#X connect 25 0 15 0;
#X connect 25 0 3 1;
#X connect 26 0 25 0;
#X connect 27 0 14 0;
#X connect 28 0 29 0;
#X connect 29 0 32 0;
#X connect 30 0 29 0;
#X connect 31 0 29 0;
#X connect 32 0 33 0;
#X connect 32 1 33 1;
#X connect 34 0 28 0;
#X connect 35 0 38 0;
#X connect 36 0 31 0;
#X connect 37 0 38 1;
#X connect 38 0 36 0;
#X connect 38 0 37 0;
#X connect 38 0 39 0;
#X connect 38 0 43 0;
#X connect 39 0 40 0;
#X connect 39 0 4 0;
#X connect 40 1 42 0;
#X connect 40 2 46 0;
#X connect 40 3 41 0;
#X connect 41 0 42 0;
#X connect 42 0 47 0;
#X connect 44 0 42 0;
#X connect 45 0 35 0;
#X connect 46 0 42 0;
#X connect 47 0 50 0;
#X connect 50 0 51 0;
#X connect 50 0 29 0;
#X connect 52 1 53 0;
#X connect 52 2 55 0;
#X connect 52 3 56 0;
#X connect 53 0 57 0;
#X connect 53 0 0 1;
#X connect 54 0 53 0;
#X connect 55 0 53 0;
#X connect 56 0 53 0;
